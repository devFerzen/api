{"remainingRequest":"C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\src\\components\\Tools\\AutocompleteInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\src\\components\\Tools\\AutocompleteInput.vue","mtime":1618292772517},{"path":"C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aqual\\repositorioWerk\\playgroundWerk\\werkvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaW5wdXRMYWJsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgbGFiZWxGb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQoKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvKkVzdG9zIGRkbHMgY29tbyBjYXRlZ29yaWEgbyBzdWJjYXRlb2dpcmlhIHNlIGJhamFyYW4gZGVzZGUgfQogICAgICAgIGVsIGluaWNpbyBkZSBsYSBhcGxpY2FjacOzbiB5IHNvbG8gZXNhIHZleiAtIGFzZWd1cmFyIGVsIGNpZXJyZSBkZSBzZXNpb24gMmhycyovCiAgICAgIGl0ZW1zOlt7bmFtZTonTWF5byd9LHtuYW1lOidNYXknfSx7bmFtZTonVG9vJ31dLAogICAgICBpc09wZW46IGZhbHNlLAogICAgICBpbnB1dERhdGE6ICcnLAogICAgICB2aXNpYmxlSXRlbUtleTogLTEsCiAgICAgIGl0ZW1zRmlsdGVyZWQ6IFtdCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIG9uQ2hhbmdlKCl7CiAgICAgIGlmKHRoaXMuaW5wdXREYXRhLnRyaW1TdGFydCgpID09ICcnKXsKICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmlzT3BlbiA9IHRydWU7CiAgICAgIHRoaXMuZmlsdGVySXRlbXMoKTsKICAgIH0sCiAgICBmaWx0ZXJJdGVtcygpewogICAgICB0aGlzLml0ZW1zRmlsdGVyZWQgPSB0aGlzLml0ZW1zLmZpbHRlcigoaXRlbSkgPT4gewogICAgICAgIGxldCBuYW1lID0gaXRlbS5uYW1lOwogICAgICAgIGlmKG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMuaW5wdXREYXRhLnRvTG93ZXJDYXNlKCkpID4gLTEpewogICAgICAgICAgICByZXR1cm4gbmFtZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGl0ZW1TZWxlY3Rpb24oaXRlbVNlbGVjdGVkKXsKICAgICAgdGhpcy5pbnB1dERhdGEgPSBpdGVtU2VsZWN0ZWQ7CiAgICAgIHRoaXMuJGVtaXQoJ2V2SW5wdXRDYXQnLHt2YWx1ZTogaXRlbVNlbGVjdGVkLCBpbnB1dEZvcjogdGhpcy5sYWJlbEZvcn0pOwogICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgfSwKICAgIGNsaWNrc0FmdWVyYShldmVudCl7CiAgICAgIGlmKCF0aGlzLiRlbC5jb250YWlucyhldmVudC50YXJnZXQpKXsKICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgICAgIHRoaXMudmlzaWJsZUl0ZW1LZXkgPSAtMTsKICAgICAgfQogICAgfSwKICAgIG9uS2V5VXAoKXsKICAgICAgY29uc29sZS5sb2coIm9uS2V5VXAiKTsKICAgICAgaWYgKHRoaXMudmlzaWJsZUl0ZW1LZXkgPiAwKSB7CiAgICAgICAgdGhpcy52aXNpYmxlSXRlbUtleSA9IHRoaXMudmlzaWJsZUl0ZW1LZXkgLTE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy52aXNpYmxlSXRlbUtleSk7CiAgICAgIH0KICAgIH0sCiAgICBvbktleURvd24oKXsKICAgICAgY29uc29sZS5sb2coIm9uS2V5RG93biIpOwogICAgICBjb25zb2xlLmxvZygib25LZXlEb3duIik7CiAgICAgIGlmICh0aGlzLnZpc2libGVJdGVtS2V5IDwgdGhpcy5pdGVtc0ZpbHRlcmVkLmxlbmd0aCkgewogICAgICAgIHRoaXMudmlzaWJsZUl0ZW1LZXkgPSB0aGlzLnZpc2libGVJdGVtS2V5ICsgMTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZpc2libGVJdGVtS2V5KTsKICAgICAgfQogICAgfSwKICAgIG9uRW50ZXIoKXsKICAgICAgdGhpcy5pbnB1dERhdGEgPSB0aGlzLml0ZW1zRmlsdGVyZWRbdGhpcy52aXNpYmxlSXRlbUtleV0ubmFtZTsKICAgICAgdGhpcy52aXNpYmxlSXRlbUtleSA9IC0xOwogICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrc0FmdWVyYSk7CiAgfSwKICBkZXN0cm95ZWQoKXsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0VjbGljaycsIHRoaXMuY2xpY2tzQWZ1ZXJhKTsKICB9Cn0K"},{"version":3,"sources":["AutocompleteInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutocompleteInput.vue","sourceRoot":"src/components/Tools","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"\">\r\n    <b-form-group>\r\n      <label>{{inputLable}}</label>\r\n      <b-form-input\r\n        v-model=\"inputData\"\r\n        type=\"text\"\r\n        placeholder=\"Teclea aquí\"\r\n        class=\"werk-input werk-shadow-input\"\r\n        @keydown.down=\"onKeyDown\"\r\n        @keydown.up=\"onKeyUp\"\r\n        @keydown.enter=\"onEnter\"\r\n        @input=\"onChange\"\r\n      ></b-form-input>\r\n    </b-form-group>\r\n    <div v-show=\"isOpen\">\r\n      <b-list-group>\r\n        <b-list-group-item\r\n          v-for=\"(item, key) in itemsFiltered\"\r\n          :key=\"key\"\r\n          @click=\"itemSelection(item.name)\"\r\n          class=\"item-list\"\r\n          :class=\"{'is-active': key === visibleItemKey}\"\r\n          button>\r\n          {{item.name}}\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      inputLable: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      labelFor: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n\r\n    },\r\n    data() {\r\n      return {\r\n        /*Estos ddls como categoria o subcateogiria se bajaran desde }\r\n          el inicio de la aplicación y solo esa vez - asegurar el cierre de sesion 2hrs*/\r\n        items:[{name:'Mayo'},{name:'May'},{name:'Too'}],\r\n        isOpen: false,\r\n        inputData: '',\r\n        visibleItemKey: -1,\r\n        itemsFiltered: []\r\n      }\r\n    },\r\n    methods:{\r\n      onChange(){\r\n        if(this.inputData.trimStart() == ''){\r\n          this.isOpen = false;\r\n          return;\r\n        }\r\n        this.isOpen = true;\r\n        this.filterItems();\r\n      },\r\n      filterItems(){\r\n        this.itemsFiltered = this.items.filter((item) => {\r\n          let name = item.name;\r\n          if(name.toLowerCase().indexOf(this.inputData.toLowerCase()) > -1){\r\n              return name;\r\n          }\r\n        });\r\n      },\r\n      itemSelection(itemSelected){\r\n        this.inputData = itemSelected;\r\n        this.$emit('evInputCat',{value: itemSelected, inputFor: this.labelFor});\r\n        this.isOpen = false;\r\n      },\r\n      clicksAfuera(event){\r\n        if(!this.$el.contains(event.target)){\r\n          this.isOpen = false;\r\n          this.visibleItemKey = -1;\r\n        }\r\n      },\r\n      onKeyUp(){\r\n        console.log(\"onKeyUp\");\r\n        if (this.visibleItemKey > 0) {\r\n          this.visibleItemKey = this.visibleItemKey -1;\r\n          console.log(this.visibleItemKey);\r\n        }\r\n      },\r\n      onKeyDown(){\r\n        console.log(\"onKeyDown\");\r\n        console.log(\"onKeyDown\");\r\n        if (this.visibleItemKey < this.itemsFiltered.length) {\r\n          this.visibleItemKey = this.visibleItemKey + 1;\r\n          console.log(this.visibleItemKey);\r\n        }\r\n      },\r\n      onEnter(){\r\n        this.inputData = this.itemsFiltered[this.visibleItemKey].name;\r\n        this.visibleItemKey = -1;\r\n        this.isOpen = false;\r\n      }\r\n    },\r\n    mounted(){\r\n      document.addEventListener('click', this.clicksAfuera);\r\n    },\r\n    destroyed(){\r\n      document.removeEventListener('Eclick', this.clicksAfuera);\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .item-list.is-active,\r\n  .item-list:hover{\r\n    background-color: blue;\r\n    color: red;\r\n  }\r\n</style>\r\n"]}]}